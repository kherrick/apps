import{b as R}from"./chunk-QNJTP72R.js";import{q as P}from"./chunk-DCYIHBUG.js";import{$b as L,Ab as I,Ac as O,Bb as M,Da as B,Ec as x,Jb as t,Kb as e,Mb as k,Rb as f,Sb as p,_b as y,ba as m,fa as _,fc as n,ga as b,ha as h,ib as D,ka as G,la as T,ra as E}from"./chunk-5BYLU2DL.js";import"./chunk-DAQOROHW.js";function A(c){return c.replaceAll("/",":")}var q=["blockGarden"],U=["blockGardenInfo"];function Q(c,i){if(c&1){let o=k();t(0,"block-garden",3,0),f("block-garden-load",function(r){b(o);let s=p();return h(s.handleBlockGardenEvents(r))}),e()}}function W(c,i){if(c&1){let o=k();t(0,"div",2,1)(2,"div",4)(3,"section")(4,"header")(5,"h1")(6,"a",5),n(7,"Block Garden"),e()()(),t(8,"section")(9,"img",6),f("click",function(r){b(o);let s=p();return h(s.handleLoad(r))})("keydown",function(r){b(o);let s=p();return h(s.handleLoad(r))}),e(),t(10,"h2")(11,"a",5),n(12,"Block Garden"),e(),n(13," is a 3D sandbox exploration and farming game. Learn more at the "),t(14,"a",7),n(15,"project page"),e(),n(16,". "),e(),t(17,"h3"),n(18,"\u{1F9E9} Features:"),e(),t(19,"ul",8)(20,"li"),n(21,"Procedural World Generation - Explore uniquely generated maps"),e(),t(22,"li"),n(23,"Farming System - Plant different types of seed with various growth cycles"),e(),t(24,"li"),n(25,"Resources - Featuring items like coal, iron, and gold"),e(),t(26,"li"),n(27,"Building - Use collected materials to place blocks and shape the world"),e(),t(28,"li"),n(29,"Clouds - Continue building in the sky"),e(),t(30,"li"),n(31," Discover - Open source, extendable by nature, map editor, color customization, etc. "),e()(),t(32,"h3"),n(33,"\u{1F3AE} Quick Start:"),e(),t(34,"ul",9)(35,"li"),n(36,"Movement: w / a / s / d"),e(),t(37,"li"),n(38,"Camera: Arrow Keys"),e(),t(39,"li"),n(40,"Descend: Shift"),e(),t(41,"li"),n(42,"Jump / Ascend: Space"),e(),t(43,"li"),n(44,"Place / Remove Block: Enter"),e(),t(45,"li"),n(46,"Change Block: ~ / `"),e(),t(47,"li"),n(48,"Open Inventory: e / i"),e(),t(49,"li"),n(50,"Toggle Hotbar: m"),e(),t(51,"li"),n(52,"Toggle Flight: k"),e(),t(53,"li"),n(54,"Click game canvas to lock mouse"),e(),t(55,"li"),n(56,"Use crosshair to center block placement"),e(),t(57,"li"),n(58,"Left Click (Hold): Break Block"),e(),t(59,"li"),n(60,"Right Click: Place Block"),e()()()()()()}}var j=class c{doc=m(T);isLoading=E(!1);injector=m(G);resizeObserver;renderBlockGarden=E(!1);themeService=m(R);platformId=m(B);canvasEl=E(null);blockGarden=x("blockGarden");blockGardenInfo=x("blockGardenInfo");xblockGardenCommit="1.11.6";xblockGardenCommitPath="block-garden-bundle-min.mjs";async ngOnInit(){if(P(this.platformId)){let i=`https://raw.githubusercontent.com/kherrick/block-garden/${this.xblockGardenCommit}/${this.xblockGardenCommitPath}`,o=A(i);if(globalThis.document.getElementById(o))return;let l=await(await fetch(i)).text(),r=globalThis.document.createElement("script");r.setAttribute("type","module"),r.setAttribute("id",o),r.textContent=l,globalThis.document.body.append(r)}}constructor(){_(this.injector,()=>{O(()=>{let i=this.canvasEl();i&&i.focus()})})}handleLoad(i){if(i.key&&i.key!==" "&&i.key!=="Enter")return;this.renderBlockGarden.set(!0);let o=(d,a)=>{let g;return(...u)=>{clearTimeout(g),g=setTimeout(()=>d(...u),a)}},l=()=>{let d=(V,F)=>{for(let[H,X]of Object.entries(F))V.style.setProperty(H,X)},a={"--bg-ui-grid-corner-max-height":"calc(100dvh - 5rem)","--bg-ui-grid-height":"calc(100dvh - 6rem)","--bg-ui-grid-width":"calc(100vw - 2rem)","--bg-ui-host-height":"calc(100dvh - 5rem)","--bg-ui-host-overflow":"hidden","--bg-ui-host-width":"calc(100vw - 2rem)","--bg-ui-touch-controls-bottom":"2rem","--bg-ui-touch-controls-position":"absolute","--bg-ui-touch-controls-width":"100%"},g={"--bg-ui-grid-corner-max-height":"calc(100dvh - 5rem)","--bg-ui-grid-height":"calc(100dvh - 6rem)","--bg-ui-grid-width":"calc(100vw - 7rem)","--bg-ui-host-height":"calc(100dvh - 5rem)","--bg-ui-host-overflow":"hidden","--bg-ui-host-width":"calc(100vw - 7rem)","--bg-ui-touch-controls-bottom":"6rem","--bg-ui-touch-controls-position":"absolute","--bg-ui-touch-controls-width":"100%"},u=this.blockGarden()?.nativeElement,N=globalThis.getComputedStyle(globalThis.document.body).width,S=Number(N.slice(0,-2));S<859&&d(u,a),S>=859&&d(u,g)},r=o(()=>{l()},0);typeof ResizeObserver=="function"&&(this.resizeObserver=new ResizeObserver(()=>{r()}),this.resizeObserver.observe(this.doc.body));let s=1e4,v=20,w=0,z=d=>{let a=this.doc.createElement("canvas");return a.width=d.width,a.height=d.height,d.toDataURL()===a.toDataURL()},C=()=>{let a=this.blockGarden()?.nativeElement?.shadowRoot?.querySelector("canvas");if(a&&!z(a)){this.canvasEl.set(a);return}w<s&&(w+=v,setTimeout(C,v))};C()}handleBlockGardenEvents(i){let o=this.blockGarden()?.nativeElement,l=!!i?.detail?.isLoading;this.isLoading.set(l);let r=this.doc.querySelector(".progress");r&&(r.style.display=l?"none":"unset",o&&setTimeout(()=>{r.style.display="none",o.style.display="flex"},0))}ngOnDestroy(){this.resizeObserver?.unobserve(this.doc.body);let i=this.doc.querySelector(".progress");i&&(i.style.display="none")}static \u0275fac=function(o){return new(o||c)};static \u0275cmp=D({type:c,selectors:[["x-block-garden"]],viewQuery:function(o,l){o&1&&(y(l.blockGarden,q,5),y(l.blockGardenInfo,U,5)),o&2&&L(2)},decls:2,vars:1,consts:[["blockGarden",""],["blockGardenInfo",""],["block-garden-container",""],[3,"block-garden-load"],["block-garden",""],["href","https://kherrick.github.io/block-garden/"],["src","assets/images/block-garden-launcher.png","tabindex","0",1,"launcher",3,"click","keydown"],["href","https://github.com/kherrick/block-garden"],[1,"features"],[1,"quick-start"]],template:function(o,l){o&1&&I(0,Q,2,0,"block-garden")(1,W,61,0,"div",2),o&2&&M(l.renderBlockGarden()?0:1)},styles:[`@font-face{font-family:Material Icons;font-style:normal;font-weight:400;font-display:block;src:url(https://fonts.gstatic.com/s/materialicons/v145/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format("woff2")}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}:host{--md-outlined-text-field-container-shape: 1rem;--md-outlined-button-container-shape: 1rem;--md-outlined-button-disabled-label-text-color: var(--md-sys-color-on-surface)}block-garden{pointer-events:auto}.launcher{cursor:pointer}.features>li{padding-bottom:.5rem}[block-garden-container]{align-items:center;color:var(--md-sys-color-on-surface);display:flex;flex-direction:row;flex-wrap:wrap;grid-column-gap:1rem;grid-row-gap:1rem;justify-content:center;text-align:center}[block-garden-container] a{color:var(--md-sys-color-on-surface);text-decoration:underline}[block-garden-container] [block-garden]{max-width:35rem;text-align:center;display:flex;justify-content:center}[block-garden-container] [block-garden] iframe{height:auto;min-height:17.5625rem;width:100%}[block-garden-container] [block-garden] img{width:calc(100% - 2rem)}[block-garden-container] [block-garden] p{padding:0 1rem}[block-garden-container] [block-garden] ul{padding:0 3rem;text-align:left}[block-garden-container] [block-garden] h2,[block-garden-container] [block-garden] h3{text-align:left}block-garden{--bg-color-black: #121212;--bg-tile-fog-color: var(--x-shell-background-color);display:none}
`],encapsulation:3})};export{j as XBlockGardenComponent};
